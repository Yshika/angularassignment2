<form [formGroup]="signupForm" (ngSubmit)="showData()">
    <!--Name-->
    <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label">Name</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" formControlName="name" placeholder="Name">
          <small class="text-danger" *ngIf="!signupForm.get('name').valid && signupForm.get('name').touched">Please enter valid name</small>
    
        </div><!-- {{signupForm.get('name')}} -->
        
        </div>

    <!--Gender -->
    <fieldset class="form-group">
        <div class="row">
          <legend class="col-form-label col-sm-2 pt-0">Gender</legend>
          <div class="col-sm-10">
            <div class="form-check form-check-inline">
              <input class="form-check-input gender" type="radio"  formControlName="gender" value="male">
              <label class="form-check-label" >
                Male
              </label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input gender" type="radio"  formControlName="gender" value="female">
              <label class="form-check-label" >
                Female
              </label>
            </div>
            
          </div>
        </div>
      </fieldset>
    
    <!--Email-->
    <div class="form-group row">
      <label for="email" class="col-sm-2 col-form-label">Email</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" formControlName="email" placeholder="Email">
        <small class="text-danger" *ngIf="!signupForm.get('email').valid && signupForm.get('email').touched">Please enter valid email</small>
    
      </div>
    </div>

    <!--Mobile-->
    <div class="form-group row">
      <label for="mobile" class="col-sm-2 col-form-label">Mobile</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" formControlName="mobile" placeholder="Mobile">
        <small class="text-danger" *ngIf="!signupForm.get('mobile').valid && signupForm.get('mobile').touched">Please enter valid mobile number</small>
    
      </div>
    </div>

    <!--Category-->
    <div class="form-group row">
        <label for="category"  class="col-sm-2 col-form-label">Category</label>
        <div class="col-sm-10">
            <select formControlName="category" class="custom-select">
            <option value="">Select Category</option>
            <option value="General"> General</option>
            <option value="SC/ST"> SC/ST</option>
            <option value="OBC"> OBC</option>
            </select>
            <small class="text-danger" *ngIf="!signupForm.get('category').valid && signupForm.get('category').touched">Please select any option</small>
    
        </div>
    </div>

    <!--Technology-->
    <div class="form-group row">
        <div class="col-sm-2">Technology</div>
        <div class="col-sm-10">
            <div class="form-check form-check-inline" *ngFor="let control of technologiesArray.controls; let i = index;">
                <input class="form-check-input" [formControl]="control" 
                (change)="getSelectedTechnologies()"
                type="checkbox" id="checkbox{{i}}">
                <label class="form-check-label" for="checkbox{{i}}">{{technologies[i]}}</label>
            </div><br>
            <small class="text-danger" *ngIf="selectTechnologyError && checkTechnologyIsTouched()">Atleast choose one...</small>
    
        </div>
        
    </div>
    <!--Profile Picture-->
    
    <div class="form-group row">
        <label for="mobile" class="col-sm-2 col-form-label">Profile Picture</label>
        <div class="col-sm-10">
          <input type="file"  formControlName="profilepic" (change)="handleFileInput($event.target.files)">
          <small class="text-danger" *ngIf="!signupForm.get('profilepic').valid && signupForm.get('profilepic').touched">Please select a file</small>
      
        </div>
      </div>
      
    <!--Submit-->
    <div class="form-group row">
      <div class="col-sm-10">
        <button type="submit" class="btn btn-success" [disabled]="signupForm.invalid || selectTechnologyError" (click)="open(content)">Preview</button> 
      </div>
    </div>
</form>

  <!--modal-->

  <ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">All Records!</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    
    <div class="modal-body">
      <ul class="list-group">
        <li class="list-group-item"><span class="text-warning">Name: </span> {{ signupForm.value.name }}</li>
        <li class="list-group-item"><span class="text-warning">Gender: </span> {{ signupForm.value.gender }}</li>
        <li class="list-group-item"><span class="text-warning">Email: </span> {{ signupForm.value.email }}</li>
        <li class="list-group-item"><span class="text-warning">Mobile: </span> {{ signupForm.value.mobile }}</li>
        <li class="list-group-item"><span class="text-warning">Category: </span> {{ signupForm.value.category }}</li>
        <li class="list-group-item"><span class="text-warning">Technology: </span> {{ selectedTechnologies }}</li>
        <li class="list-group-item"><span class="text-warning">Profile Picture: </span> <img [src]="imageUrl" class="img-fluid img-responsive" style="height:180px;width:180px;" alt="Not uploaded"></li>
        
    </ul>
    
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss('Cross click')">Cancel</button>
        <button type="button" class="btn btn-outline-dark" (click)="saveData()">Submit</button>
    </div>
  </ng-template>
